{"version":3,"sources":["webpack:///./src/views/stocks/Stock_Reparto.vue?4af9","webpack:///./src/views/stocks/Stock_Reparto.vue?7e4f","webpack:///src/views/stocks/Stock_Reparto.vue","webpack:///./src/views/stocks/Stock_Reparto.vue?9c07","webpack:///./src/views/stocks/Stock_Reparto.vue?3cb8"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$session","get","id_reparto","on","testFetch","staticStyle","ref","fields","tabla_stocks","perPage","currentPage","filter","seleccionar_una","onFiltered","scopedSlots","_u","key","fn","rowSelected","data","value","split","length","_l","componente","id","productos","find","s","id_producto","producto","nombre","tipo","cantidad","row","item","componentes","totalRows","model","callback","$$v","expression","editar","infoEliminar","stock","hideModal","$event","deleteStock","id_stock","infoCerrar","closeStock","staticRenderFns","console","log","component"],"mappings":"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","file":"js/chunk-33f7af8c.4ae7ef94.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock_Reparto.vue?vue&type=style&index=0&id=51e43242&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"myTable\",attrs:{\"id\":\"stocks\"}},[_c('vue-headful',{attrs:{\"title\":\"Stocks - Aranda Distribuciones\"}}),_c('h2',[_vm._v(\"Stock de reparto \"+_vm._s(this.$session.get('repartused').id_reparto))]),_c('b-button',{staticClass:\"mb-4\",attrs:{\"title\":\"Recargar\",\"variant\":\"light\"},on:{\"click\":_vm.testFetch}},[_c('v-icon',{staticStyle:{\"color\":\"black\"},attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-cached\")]),_vm._v(\" Actualizar \")],1),_c('section',{staticClass:\"container\"},[_c('b-table',{ref:\"tablaregistros\",attrs:{\"fields\":_vm.fields,\"stacked\":\"\",\"sortable\":\"\",\"responsive\":\"\",\"hover\":\"\",\"items\":_vm.tabla_stocks,\"show-empty\":\"\",\"sticky-header\":false,\"no-border-collapse\":false,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"id\":\"tablaregistros\",\"selectable\":\"\",\"select-mode\":\"multi\",\"empty-text\":\"No hay registros cargados\",\"empty-filtered-text\":\"No hemos encontrado registros que coincidan con lo que está buscando\",\"filter\":_vm.filter},on:{\"row-selected\":_vm.seleccionar_una,\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(selected)\",fn:function(ref){\nvar rowSelected = ref.rowSelected;\nreturn [(rowSelected)?[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"✓\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Selected\")])]:[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\" \")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Not selected\")])]]}},{key:\"cell(id_reparto)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.value.split('/')[4])+\" \")]}},{key:\"cell(componentes)\",fn:function(data){return [(data.value.length>0)?_c('b-card',{staticStyle:{\"width\":\"100%\"},attrs:{\"title\":\"Productos: \"}},[_c('b-list-group',{staticStyle:{\"width\":\"100%\"},attrs:{\"vertical\":\"\"}},_vm._l((data.value),function(componente){return _c('div',{key:componente.id},[_c('b-list-group',[_c('b-list-group-item',[_c('b',[_vm._v(\"Producto:\")]),_vm._v(\" \"+_vm._s(_vm.productos.find(function (s){ return s.id_producto == componente.producto.split('/')[4] }).nombre)+\" \")]),_c('b-list-group-item',[_c('p',[_c('b',[_vm._v(\"Cantidad: \")]),_vm._v(\" \"+_vm._s(componente.tipo==2?\"$\":\"\")+_vm._s(componente.cantidad)+\" \")])])],1)],1)}),0)],1):_c('b-list-group-item',[_vm._v(\" Sin Productos \")])]}},{key:\"cell(cerrado)\",fn:function(data){return [(data.value === true)?_c('div',[_c('svg',{staticClass:\"bi bi-check-circle-fill\",staticStyle:{\"color\":\"green\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\"}})]),_vm._v(\" SI \")]):_c('div',[_c('svg',{staticClass:\"bi bi-x-circle-fill\",staticStyle:{\"color\":\"red\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"}})]),_vm._v(\" NO \")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-list-group',{attrs:{\"horizontal\":\"\"}},[_c('b-list-group',[_c('b-list-group-item',[_c('b',[_vm._v(\"Nombre del Stock:\")]),_vm._v(\" \"+_vm._s(row.item.nombre)+\" \")]),(row.item.componentes.length>0)?_c('b-card',{attrs:{\"title\":\"Productos: \"}},[_c('b-list-group',{attrs:{\"horizontal\":\"\"}},_vm._l((row.item.componentes),function(componente){return _c('div',{key:componente.id},[_c('b-list-group',[_c('b-list-group-item',[_c('b',[_vm._v(\"Producto:\")]),_vm._v(\" \"+_vm._s(_vm.productos.find(function (s){ return s.id_producto == componente.producto.split('/')[4] }).nombre)+\" \")]),_c('b-list-group-item',[_c('p',[_c('b',[_vm._v(\"Cantidad: \")]),_vm._v(\" \"+_vm._s(componente.tipo==2?\"$\":\"\")+_vm._s(componente.cantidad)+\" \")])])],1)],1)}),0)],1):_c('b-list-group-item',[_vm._v(\" Sin Productos \")])],1),_vm._v(\"   \")],1)],1)]}}])}),_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-col',{staticClass:\"my-1\"},[_c('b-pagination',{attrs:{\"align\":\"center\",\"pills\":\"\",\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"aria-controls\":\"table_stocks\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1),_c('b-modal',{ref:\"my-modaledit\",attrs:{\"no-close-on-backdrop\":\"\",\"id\":\"modal_editar\",\"hide-footer\":\"\",\"title\":\"Editar\",\"ok-only\":\"\"}},[_c('stocks-update',{attrs:{\"stocks\":_vm.editar,\"updateTable\":_vm.testFetch}})],1),_c('b-modal',{ref:\"my-modal\",attrs:{\"no-close-on-backdrop\":\"\",\"id\":\"modal_eliminar\",\"hide-footer\":\"\",\"title\":\"Eliminar\",\"ok-only\":\"\"}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',[_vm._v(\" ¿Esta seguro de eliminar los datos del stock '\"+_vm._s(_vm.infoEliminar.stock.nombre)+\"'? \")])]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"block\":\"\",\"title\":\"Volver Atras\"},on:{\"click\":_vm.hideModal}},[_vm._v(\" Volver Atras \")]),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"danger\",\"block\":\"\",\"title\":\"Eliminar\"},on:{\"click\":function($event){return _vm.deleteStock(_vm.infoEliminar.stock.id_stock)}}},[_vm._v(\" Eliminar \")])],1),_c('b-modal',{ref:\"my-modal1\",attrs:{\"no-close-on-backdrop\":\"\",\"id\":\"modal_cerrar\",\"hide-footer\":\"\",\"title\":\"Cerrar\",\"ok-only\":\"\"}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',[_vm._v(\" ¿Esta seguro de cerrar el stock '\"+_vm._s(_vm.infoCerrar.stock.nombre)+\"'? \")])]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"block\":\"\",\"title\":\"Volver Atras\"},on:{\"click\":_vm.hideModal}},[_vm._v(\" Volver Atras \")]),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"success\",\"block\":\"\",\"title\":\"Cerrar\"},on:{\"click\":function($event){return _vm.closeStock(_vm.infoCerrar.stock.id_stock)}}},[_vm._v(\" Cerrar \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-app id=\"app\">\r\n\t\t<div id=\"stocks\" class=\"myTable\">\r\n\t\t\t<!--HEAD DE LA PAGINA -->\r\n\t\t\t<vue-headful\r\n\t\t\t\ttitle=\"Stocks - Aranda Distribuciones\"\r\n\t\t\t></vue-headful>\r\n\r\n\t\t\t<h2>Stock de reparto {{this.$session.get('repartused').id_reparto}}</h2>\r\n\r\n\t\t\t<b-button @click=\"testFetch\" class=\"mb-4\" title=\"Recargar\" variant=\"light\">\r\n\t\t\t\t<v-icon dark style=\"color: black\">mdi-cached</v-icon>\r\n\t\t\t\tActualizar\r\n\t\t\t</b-button>\r\n\t\t\t<section class=\"container\">\r\n\t\t\t\t<b-table :fields=\"fields\"\r\n\t\t\t\t\t\t stacked\r\n\t\t\t\t\t\t sortable\r\n\t\t\t\t\t\t responsive\r\n\t\t\t\t\t\t hover\r\n\t\t\t\t\t\t :items=\"tabla_stocks\"\r\n\t\t\t\t\t\t show-empty\r\n\t\t\t\t\t\t :sticky-header=\"false\"\r\n\t\t\t\t\t\t :no-border-collapse=\"false\"\r\n\t\t\t\t\t\t :per-page=\"perPage\"\r\n\t\t\t\t\t\t :current-page=\"currentPage\"\r\n\t\t\t\t\t\t ref=\"tablaregistros\"\r\n\t\t\t\t\t\t id=\"tablaregistros\"\r\n\t\t\t\t\t\t selectable\r\n\t\t\t\t\t\t select-mode=\"multi\"\r\n\t\t\t\t\t\t @row-selected=\"seleccionar_una\"\r\n\t\t\t\t\t\t empty-text=\"No hay registros cargados\"\r\n\t\t\t\t\t\t empty-filtered-text=\"No hemos encontrado registros que coincidan con lo que está buscando\"\r\n\t\t\t\t\t\t :filter=\"filter\"\r\n\t\t\t\t\t\t @filtered=\"onFiltered\">\r\n\r\n\r\n\t\t\t\t\t<template #cell(selected)=\"{ rowSelected }\">\r\n\t\t\t\t\t\t<template v-if=\"rowSelected\">\r\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&check;</span>\r\n\t\t\t\t\t\t\t<span class=\"sr-only\">Selected</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&nbsp;</span>\r\n\t\t\t\t\t\t\t<span class=\"sr-only\">Not selected</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template slot=\"cell(id_reparto)\" slot-scope=\"data\">\r\n\t\t\t\t\t\t{{ data.value.split('/')[4]}}\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template slot=\"cell(componentes)\" slot-scope=\"data\" class=\"buenardo\">\r\n\t\t\t\t\t\t<b-card title=\"Productos: \" v-if=\"data.value.length>0\" style=\"width:100%;\">\r\n\r\n\t\t\t\t\t\t\t<b-list-group vertical style=\"width:100%;\">\r\n\t\t\t\t\t\t\t\t<div v-for=\"componente in data.value\"\r\n\t\t\t\t\t\t\t\t\t :key=\"componente.id\">\r\n\r\n\t\t\t\t\t\t\t\t\t<b-list-group>\r\n\t\t\t\t\t\t\t\t\t\t<b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Producto:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\nproductos.find(s=>{\r\n                                                                    return s.id_producto == componente.producto.split('/')[4]\r\n                                                                }).nombre\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t<b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Cantidad: </b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{componente.tipo==2?\"$\":\"\"}}{{componente.cantidad}}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t</b-list-group>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</b-list-group>\r\n\t\t\t\t\t\t</b-card>\r\n\t\t\t\t\t\t<b-list-group-item v-else>\r\n\t\t\t\t\t\t\tSin Productos\r\n\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template slot=\"cell(cerrado)\" slot-scope=\"data\">\r\n\t\t\t\t\t\t<div v-if=\"data.value === true\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t width=\"16\"\r\n\t\t\t\t\t\t\t\t height=\"16\"\r\n\t\t\t\t\t\t\t\t fill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t class=\"bi bi-check-circle-fill\"\r\n\t\t\t\t\t\t\t\t viewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t style=\"color: green\">\r\n\t\t\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\tSI\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t width=\"16\"\r\n\t\t\t\t\t\t\t\t height=\"16\"\r\n\t\t\t\t\t\t\t\t fill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t class=\"bi bi-x-circle-fill\"\r\n\t\t\t\t\t\t\t\t viewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t style=\"color: red\">\r\n\t\t\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\tNO\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template #row-details=\"row\">\r\n\t\t\t\t\t\t<b-card>\r\n\t\t\t\t\t\t\t<b-list-group horizontal>\r\n\t\t\t\t\t\t\t\t<b-list-group>\r\n\t\t\t\t\t\t\t\t\t<b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t<b>Nombre del Stock:</b>\r\n\t\t\t\t\t\t\t\t\t\t{{ row.item.nombre }}\r\n\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t<b-card title=\"Productos: \" v-if=\"row.item.componentes.length>0\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<b-list-group horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-for=\"componente in row.item.componentes\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t :key=\"componente.id\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b-list-group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Producto:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\nproductos.find(s=>{\r\n                                                                    return s.id_producto == componente.producto.split('/')[4]\r\n                                                                }).nombre\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Cantidad: </b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{componente.tipo==2?\"$\":\"\"}}{{componente.cantidad}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b-list-group>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</b-list-group>\r\n\t\t\t\t\t\t\t\t\t</b-card>\r\n\t\t\t\t\t\t\t\t\t<b-list-group-item v-else>\r\n\t\t\t\t\t\t\t\t\t\tSin Productos\r\n\t\t\t\t\t\t\t\t\t</b-list-group-item>\r\n\r\n\t\t\t\t\t\t\t\t</b-list-group>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t</b-list-group>\r\n\t\t\t\t\t\t</b-card>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</b-table>\r\n\t\t\t\t<b-container fluid>\r\n\t\t\t\t\t<b-col class=\"my-1\">\r\n\t\t\t\t\t\t<b-pagination v-model=\"currentPage\"\r\n\t\t\t\t\t\t\t\t\t  align=\"center\"\r\n\t\t\t\t\t\t\t\t\t  pills\r\n\t\t\t\t\t\t\t\t\t  :total-rows=\"totalRows\"\r\n\t\t\t\t\t\t\t\t\t  :per-page=\"perPage\"\r\n\t\t\t\t\t\t\t\t\t  aria-controls=\"table_stocks\">\r\n\t\t\t\t\t\t</b-pagination>\r\n\t\t\t\t\t</b-col>\r\n\t\t\t\t</b-container>\r\n\r\n\t\t\t\t<b-modal no-close-on-backdrop\r\n\t\t\t\t\t\t id=\"modal_editar\"\r\n\t\t\t\t\t\t ref=\"my-modaledit\"\r\n\t\t\t\t\t\t hide-footer\r\n\t\t\t\t\t\t title=\"Editar\"\r\n\t\t\t\t\t\t ok-only>\r\n\t\t\t\t\t<stocks-update :stocks=\"editar\" :updateTable=\"testFetch\" />\r\n\t\t\t\t</b-modal>\r\n\t\t\t\t<!-- ================ELIMINAR UN PLAN======================== -->\r\n\t\t\t\t<b-modal no-close-on-backdrop\r\n\t\t\t\t\t\t id=\"modal_eliminar\"\r\n\t\t\t\t\t\t ref=\"my-modal\"\r\n\t\t\t\t\t\t hide-footer\r\n\t\t\t\t\t\t title=\"Eliminar\"\r\n\t\t\t\t\t\t ok-only>\r\n\t\t\t\t\t<div class=\"d-block text-center\">\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t¿Esta seguro de eliminar los datos del stock '{{\r\n\t\t\t\t\t\t\t\tinfoEliminar.stock.nombre\r\n\t\t\t\t\t\t\t}}'?\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<b-button class=\"mt-2\" block @click=\"hideModal\" title=\"Volver Atras\">\r\n\t\t\t\t\t\tVolver Atras\r\n\t\t\t\t\t</b-button>\r\n\r\n\t\t\t\t\t<b-button class=\"mt-3\"\r\n\t\t\t\t\t\t\t  variant=\"danger\"\r\n\t\t\t\t\t\t\t  block\r\n\t\t\t\t\t\t\t  title=\"Eliminar\"\r\n\t\t\t\t\t\t\t  @click=\"deleteStock(infoEliminar.stock.id_stock)\">\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</b-button>\r\n\t\t\t\t</b-modal>\r\n\t\t\t\t<b-modal no-close-on-backdrop\r\n\t\t\t\t\t\t id=\"modal_cerrar\"\r\n\t\t\t\t\t\t ref=\"my-modal1\"\r\n\t\t\t\t\t\t hide-footer\r\n\t\t\t\t\t\t title=\"Cerrar\"\r\n\t\t\t\t\t\t ok-only>\r\n\t\t\t\t\t<div class=\"d-block text-center\">\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t¿Esta seguro de cerrar el stock '{{\r\n\t\t\t\t\t\t\t\tinfoCerrar.stock.nombre\r\n\t\t\t\t\t\t\t}}'?\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<b-button class=\"mt-2\" block @click=\"hideModal\" title=\"Volver Atras\">\r\n\t\t\t\t\t\tVolver Atras\r\n\t\t\t\t\t</b-button>\r\n\r\n\t\t\t\t\t<b-button class=\"mt-3\"\r\n\t\t\t\t\t\t\t  variant=\"success\"\r\n\t\t\t\t\t\t\t  block\r\n\t\t\t\t\t\t\t  title=\"Cerrar\"\r\n\t\t\t\t\t\t\t  @click=\"closeStock(infoCerrar.stock.id_stock)\">\r\n\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t</b-button>\r\n\t\t\t\t</b-modal>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t</v-app>\r\n</template>\r\n\r\n<script>\r\n    let api = new URL(\"http://93.188.162.174:8081\");\r\n\tapi.pathname = \"stocks/\";\r\n\t//api.port = 8000;\r\n\t//api.port = 8081;\r\n\r\n    import StocksAlta from \"./StocksAlta.vue\";\r\n    import StocksUpdate from \"./StocksUpdate.vue\";\r\n\timport axios from \"axios\";\r\n\r\n\timport { APIControler } from \"@/store/APIControler\";\r\n\timport swal from \"sweetalert\";\r\n\r\n\texport default {\r\n        components: { StocksAlta, StocksUpdate },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabla_stocks: [],\r\n                productos:[],\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{ key: \"id_stock\", label: \"ID\", sortable: true },\r\n\t\t\t\t\t{ key: \"nombre\", label: \"Nombre\", sortable: true },\r\n\t\t\t\t\t{ key: \"fechastock\", label: \"Fecha\", sortable: true },\r\n\t\t\t\t\t{ key: \"id_reparto\", label: \"ID Reparto\", sortable: true },\r\n\t\t\t\t\t{ key: \"cerrado\", label: \"Stock Cerrado\", sortable: true },\r\n                    { key: \"componentes\", label:\"\", sortable: true },\r\n\t\t\t\t],\r\n\t\t\t\tmodal: false,\r\n\r\n\t\t\t\tdateDesde: null,\r\n\t\t\t\tdateHasta: null,\r\n\r\n\t\t\t\teditar: {},\r\n\t\t\t\tproductoelegido: {},\r\n\t\t\t\tfilter: null,\r\n\t\t\t\ttotalRows: 1, //Total de filas\r\n\t\t\t\tcurrentPage: 1, //Pagina actual\r\n\t\t\t\tperPage: 10, // Datos en la tabla por pagina\r\n\t\t\t\tpageOptions: [10, 20, 40, 100, { value: 10000, text: \"Todos\" }],\r\n\t\t\t\tselected: [],\r\n\t\t\t\tcambiototal: {},\r\n\t\t\t\tinfoEliminar: {\r\n\t\t\t\t\tid: \"modal_eliminar\",\r\n\t\t\t\t\tstock: -1,\r\n\t\t\t\t},\r\n                infoCerrar: {\r\n                    id: \"modal_cerrar\",\r\n                    stock: -1,\r\n                },\r\n\t\t\t\tbtn_del_full: true,\r\n\t\t\t\tbtn_mostrar: false,\r\n\t\t\t\tbtn_editar: false,\r\n\t\t\t\tbtn_eliminar: false,\r\n\t\t\t\tbtn_select: false,\r\n                btn_cerrar: false,\r\n\t\t\t\tbtn_limpiar: true,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\trows() {\r\n\t\t\t\treturn (this.totalRows = this.tabla_stocks.length);\r\n\t\t\t},\r\n\t\t\tsortOptions() {\r\n\t\t\t\t// Funcion para filtrar\r\n\t\t\t\treturn this.fields\r\n\t\t\t\t\t.filter((f) => f.sortable)\r\n\t\t\t\t\t.map((f) => {\r\n\t\t\t\t\t\treturn { text: f.label, value: f.key };\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tasync testFetch() {\r\n                try {\r\n                    const res = await fetch(api);\r\n                    const data = await res.json();\r\n\t\t\t\t\tlet id_sto = this.$route.query.id_sto;\r\n\t\t\t\t\tconsole.log(id_sto);\r\n                    for (var i = 0; i < data.results.length; i++) {\r\n                        console.log((data.results)[i]);\r\n                        if (((data.results)[i]).id_stock == id_sto) { this.tabla_stocks.push((data.results)[i]) }\r\n                    }\r\n\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n\t\t\t},\r\n\t\t\t//Funcion para mostrar el modal\r\n\t\t\tshowModal() {\r\n\t\t\t\tthis.$refs[\"my-modal\"].show();\r\n\t\t\t},\r\n            showModal1() {\r\n                this.$refs[\"my-modal1\"].show();\r\n            },\r\n\t\t\t//Funcion para esconder el modal\r\n\t\t\thideModal() {\r\n\t\t\t\tthis.$refs[\"my-modal\"].hide();\r\n\t\t\t},\r\n            hideModal1() {\r\n                this.$refs[\"my-modal1\"].hide();\r\n            },\r\n\t\t\tinfo(id) {\r\n\t\t\t\talert(\"id: \" + id);\r\n\t\t\t},\r\n\r\n\t\t\tshowModalinfo(item, index) {\r\n\t\t\t\tthis.infoEliminar.stock = item;\r\n\t\t\t\tthis.showModal();\r\n\t\t\t},\r\n\r\n            cerrarStock(item, index) {\r\n                this.infoCerrar.stock = item;\r\n                this.showModal1();\r\n\t\t\t},\r\n\r\n\t\t\t//-----Funciones de seleccion\r\n\t\t\t//Selecciona una a una\r\n\t\t\tseleccionar_una(items) {\r\n\t\t\t\tthis.selected = items;\r\n\t\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\t\tthis.btn_del_full = false;\r\n\t\t\t\t\tthis.btn_limpiar = false;\r\n\t\t\t\t\tif (this.selected.length > 1) {\r\n\t\t\t\t\t\tthis.btn_mostrar = true;\r\n\t\t\t\t\t\tthis.btn_editar = true;\r\n\t\t\t\t\t\tthis.btn_eliminar = true;\r\n\t\t\t\t\t\tthis.btn_cerrar = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.selected.length == this.rows) {\r\n\t\t\t\t\t\tthis.btn_select = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.btn_select = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.btn_del_full = true;\r\n\t\t\t\t\tthis.btn_mostrar = false;\r\n\t\t\t\t\tthis.btn_editar = false;\r\n\t\t\t\t\tthis.btn_eliminar = false;\r\n\t\t\t\t\tthis.btn_limpiar = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//Selecciona todas\r\n\t\t\tseleccionar_todas() {\r\n\t\t\t\tthis.$refs.tablaregistros.selectAllRows();\r\n\t\t\t\tthis.btn_del_full = false;\r\n\t\t\t\tthis.btn_mostrar = true;\r\n\t\t\t\tthis.btn_editar = true;\r\n\t\t\t\tthis.btn_eliminar = true;\r\n\r\n\t\t\t\tthis.btn_select = true;\r\n\t\t\t\tthis.btn_limpiar = false;\r\n\t\t\t},\r\n\t\t\t//Limpia todas las selecciones\r\n\t\t\tlimpiar_seleccion() {\r\n\t\t\t\tthis.$refs.tablaregistros.clearSelected();\r\n\t\t\t\tthis.btn_del_full = true;\r\n\t\t\t\tthis.btn_mostrar = false;\r\n\t\t\t\tthis.btn_editar = false;\r\n\t\t\t\tthis.btn_eliminar = false;\r\n\r\n\t\t\t\tthis.btn_select = false;\r\n\t\t\t\tthis.btn_limpiar = true;\r\n\t\t\t},\r\n\r\n\t\t\t//Alta de medicamento\r\n\t\t\taltaStock() {},\r\n\r\n\t\t\t//Editar medicamento\r\n\t\t\teditarStock(item, index) {\r\n\t\t\t\tthis.editar = item;\r\n\t\t\t},\r\n            \r\n            async getProductos() {\r\n\t\t\t\tlet serviciosAPI = new APIControler();\r\n\t\t\t\tserviciosAPI.apiUrl.pathname = \"productos/\";\r\n\t\t\t\tthis.productos= await serviciosAPI.getData()\r\n                // .then(servicios=>{\r\n                //     let s=[]\r\n                //     for (d in servicios){\r\n                //         {\r\n\r\n                //         }\r\n                //         s.push\r\n                //     }\r\n                // })\r\n\r\n\r\n                // let option\r\n\t\t\t\t// this.data.forEach((element) => {\r\n\t\t\t\t// \toption = {};\r\n\t\t\t\t// \toption.value = \r\n\t\t\t\t// \t\t\"http://93.188.162.174:8081/servicios/\" + element.id_servicio + \"/\";\r\n\t\t\t\t// \toption.text = element.servicio;\r\n\t\t\t\t// \tconsole.log(option);\r\n\t\t\t\t// \tthis.op_servicios.push(option);\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\r\n            getProducto(id){\r\n                if(this.productos==[]){\r\n                    return getProductos().then(()=>{\r\n                        return this.getProducto(id)\r\n                    })\r\n                }\r\n                else{\r\n                    return this.productos.find(s=>{\r\n                        return s.id_producto == id\r\n                    })\r\n                }\r\n\t\t\t},\r\n            async actualizarStockProducto(id, stock) {\r\n                let productofinal = this.getProducto(id);\r\n                this.productoelegido.id_producto = productofinal.id_producto\r\n                this.productoelegido.nombre = productofinal.nombre\r\n                this.productoelegido.tipo_producto = productofinal.tipo_producto\r\n                this.productoelegido.letra = productofinal.letra\r\n                this.productoelegido.numero_producto = productofinal.numero_producto\r\n                this.productoelegido.codigo_unico = productofinal.codigo_unico\r\n                this.productoelegido.stocktotal = parseInt(productofinal.stocktotal) + parseInt(stock)\r\n                this.productoelegido.precioref = productofinal.precioref\r\n                console.log(this.productoelegido)\r\n                await axios\r\n                    .put(\r\n                        \"http://93.188.162.174:8081/productos/\" +\r\n                        this.productoelegido.id_producto +\r\n                        \"/\",\r\n                        this.productoelegido\r\n                    );\r\n            },\r\n\t\t\t//Funcion para eliminar el medicamento\r\n\t\t\tasync deleteStock(id) {\r\n\t\t\t\taxios\r\n                    .delete(\"http://93.188.162.174:8081/stocks/\" + id + \"/\")\r\n\t\t\t\t\t.then((datos) => {\r\n\t\t\t\t\t\tif (this.infoEliminar.stock.cerrado == false)\r\n\t\t\t\t\t\t{\r\n                            this.infoEliminar.stock.componentes.forEach(element => {\r\n                                console.log(\"Longitud\");\r\n                                this.actualizarStockProducto(element.producto.split('/')[4], element.cantidad);\r\n                            });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tswal(\"Eliminacion Exitosa\", \" \", \"success\");\r\n\t\t\t\t\t\tconsole.log(datos);\r\n\t\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tswal(\"¡ERROR!\", \"Se ha detectado un problema \", \"error\");\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(() => this.testFetch());\r\n\t\t\t},\r\n\t\t\tasync closeStock(id) {\r\n\t\t\t\tif (this.infoCerrar.stock.cerrado == true) {\r\n\t\t\t\t\twindow.alert(\"Este stock ya fue cerrado\");\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n                    var baseURL = \"http://93.188.162.174:8081\"\r\n                    const response = await axios.get(baseURL + \"/stocks/\" + id + \"/cerrarelStock/\")\r\n\r\n                        .then((datos) => {\r\n                            swal(\"Operación Exitosa\", \" \", \"success\");\r\n                            this.infoCerrar.stock.componentes.forEach(element => {\r\n                                this.actualizarStockProducto(element.producto.split('/')[4], element.cantidad);\r\n                            });\r\n                            this.hideModal();\r\n                            sessionStorage.removeItem(\"pagos\");\r\n                        })\r\n                        .catch((error) => {\r\n                            swal(\"¡ERROR!\", \"Se ha detectado un problema \", \"error\");\r\n                            console.log(error);\r\n                            this.hideModal();\r\n                        })\r\n                        .finally(() => this.testFetch());\r\n\t\t\t\t}\r\n            },\r\n\t\t\t//Funcion para eliminar todos los medicamentos seleccionados\r\n\t\t\tasync delete_all_Stocks() {\r\n\t\t\t\tvar cantidad = this.selected.length;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (var i = 0; i < cantidad; i++) {\r\n\t\t\t\t\t\taxios.delete(\r\n\t\t\t\t\t\t\t\"http://93.188.162.174:8081/stocks/\" + this.selected[i].id_stock + \"/\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.then((datos) => {\r\n\t\t\t\t\t\t\t\tswal(\"Operación Exitosa\", \" \", \"success\");\r\n                                this.selected[i].componentes.forEach(element => {\r\n\t\t\t\t\t\t\t\t\tthis.actualizarStockProducto(element.producto.split('/')[4], element.cantidad);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (this.selected.length == 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"Eliminacion Exitosa\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tswal(\"Eliminacion Exitosa\", \" \", \"success\");\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tswal(\"¡ERROR!\", \"Se ha detectado un problema \", \"error\");\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.testFetch();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tlimpiar_filtro_fecha() {\r\n\t\t\t\tthis.dateDesde = null;\r\n\t\t\t\tthis.dateHasta = null;\r\n\t\t\t},\r\n\r\n\t\t\tonFiltered(filteredItems) {\r\n\t\t\t\t// Trigger pagination to update the number of buttons/pages due to filtering\r\n\t\t\t\tthis.totalRows = filteredItems.length;\r\n\t\t\t\tthis.currentPage = 1;\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\tbeforeMount() {\r\n\t\t\tthis.testFetch();\r\n            this.getProductos()\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.myTable {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tpadding: 1.5em;\r\n\t\tmargin-top: 4rem;\r\n\t\toverflow: auto;\r\n\t\ttransition: 0.5s;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.container {\r\n\t\tfloat: left;\r\n\t\twidth: 80%;\r\n\t}\r\n\taside {\r\n\t\tfloat: right;\r\n\t\twidth: 20%;\r\n\t}\r\n    .card {\r\n        width: 170% !important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock_Reparto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock_Reparto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stock_Reparto.vue?vue&type=template&id=51e43242&scoped=true&\"\nimport script from \"./Stock_Reparto.vue?vue&type=script&lang=js&\"\nexport * from \"./Stock_Reparto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stock_Reparto.vue?vue&type=style&index=0&id=51e43242&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51e43242\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}