(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7f51c2a"],{1819:function(t,e,o){"use strict";o("6652")},6652:function(t,e,o){},"7d3e":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"app"}},[o("div",{staticClass:"myTable",attrs:{id:"compras"}},[o("vue-headful",{attrs:{title:"compras - Aranda Distribuciones"}}),o("h2",[t._v("Listado de compras")]),o("b-button",{staticClass:"mb-4",attrs:{title:"Recargar",variant:"light"},on:{click:t.testFetch}},[o("v-icon",{staticStyle:{color:"black"},attrs:{dark:""}},[t._v("mdi-cached")]),t._v(" Actualizar ")],1),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-alta",modifiers:{"modal-alta":!0}}],staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{title:"Nuevo Pago de compra"},on:{click:function(e){return t.altacompra()}}},[o("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")]),t._v(" Nuevo compra ")],1),o("b-modal",{attrs:{"no-close-on-backdrop":"",id:"modal-alta","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[o("h5",{staticClass:"modal-title"},[t._v("Alta")])]},proxy:!0}])},[o("compras-alta",{attrs:{updateTable:t.testFetch}})],1),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-eliminarTodo",modifiers:{"modal-eliminarTodo":!0}}],staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{variant:"danger",id:"btn_del_full",title:"Eliminar todos los registros",disabled:t.btn_del_full}},[o("v-icon",{staticClass:"mr-2",staticStyle:{color:"white"}},[t._v(" mdi-delete ")]),t._v(" Eliminar ")],1),o("div",[o("b-modal",{ref:"my-modal",attrs:{id:"modal-eliminarTodo","hide-footer":"",title:"Eliminar","ok-only":""}},[t.selected.length===t.rows?o("div",{staticClass:"d-bk text-center"},[o("h3",[t._v("¿Está seguro de eliminar todos los registros?")])]):o("div",{staticClass:"d-bk text-center"},[t.selected.length>1?o("h3",[t._v("¿Está seguro de eliminar "+t._s(t.selected.length)+" registros?")]):o("h3",[t._v("¿Está seguro de eliminar un registro?")])]),o("b-button",{staticClass:"mt-2",attrs:{bk:"",title:"Volver Atras"},on:{click:t.hideModal}},[t._v(" Volver Atras ")]),o("b-button",{staticClass:"mt-3",attrs:{variant:"danger",bk:"",title:"Eliminar"},on:{click:function(e){return t.delete_all_compras()}}},[t._v(" Eliminar ")])],1)],1),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:t.rows>0,expression:"rows > 0"}],staticClass:"mb-0",staticStyle:{width:"100%","padding-bottom":"1em"},attrs:{"label-for":"filter-input","label-align-sm":"right","label-size":"sm"}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar registros"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),o("b-input-group-append",[o("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1),t.rows>0?o("div",[t.selected.length>0?o("div",[o("pre",[t._v("                        Cantidad de registros: "+t._s(t.rows)+" | Filas seleccionadas: "+t._s(t.selected.length))])]):o("div",[o("pre",[t._v("Cantidad de registros: "+t._s(t.rows))])]),o("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{size:"sm",title:"Seleccionar Todo",disabled:t.btn_select},on:{click:t.seleccionar_todas}},[t._v(" Seleccionar Todo ")]),o("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{size:"sm",title:"Limpiar Seleccion",disabled:t.btn_limpiar},on:{click:t.limpiar_seleccion}},[t._v(" Limpiar Seleccion ")])],1):o("div",[o("pre",[t._v("Cantidad de registros: "+t._s(t.rows))])]),o("section",{staticClass:"container"},[o("b-table",{ref:"tablaregistros",attrs:{fields:t.fields,striped:"",sortable:"",responsive:"",hover:"",items:t._f("Producto")(t._f("GastoTotal")(t._f("FechaRange")(t.tabla_compras,t.dateDesde,t.dateHasta),t.totalDesde,t.totalHasta),t.filter_producto),"show-empty":"","sticky-header":!1,"no-border-collapse":!1,"per-page":t.perPage,"current-page":t.currentPage,id:"tablaregistros",selectable:"","select-mode":"multi","empty-text":"No hay registros cargados","empty-filtered-text":"No hemos encontrado registros que coincidan con lo que está buscando",filter:t.filter},on:{"row-selected":t.seleccionar_una,filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(gastototal)",fn:function(e){return[o("b",[t._v("$"+t._s(e.value))])]}},{key:"cell(selected)",fn:function(e){var a=e.rowSelected;return[a?[o("span",{attrs:{"aria-hidden":"true"}},[t._v("✓")]),o("span",{staticClass:"sr-only"},[t._v("Selected")])]:[o("span",{attrs:{"aria-hidden":"true"}},[t._v(" ")]),o("span",{staticClass:"sr-only"},[t._v("Not selected")])]]}},{key:"cell(action)",fn:function(e){return[o("div",{staticClass:"mt-3"},[o("b-button-group",[o("b-button",{attrs:{variant:"info",id:"button-1",title:"Mostrar Información adicional",disabled:t.btn_mostrar},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")]),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal_editar",modifiers:{modal_editar:!0}}],attrs:{variant:"warning",id:"button-2",title:"Editar este registro",disabled:t.btn_editar},on:{click:function(o){return t.editarcompra(e.item,e.index)}}},[o("v-icon",{staticClass:"mr-2"},[t._v(" mdi-pencil ")]),t._v(" Editar ")],1),o("b-button",{attrs:{variant:"danger",id:"button-3",title:"Eliminar este registro",disabled:t.btn_eliminar},on:{click:function(o){return t.showModalinfo(e.item,e.index)}}},[o("v-icon",{staticClass:"mr-2"},[t._v(" mdi-delete ")]),t._v(" Eliminar ")],1)],1)],1)]}},{key:"row-details",fn:function(e){return[o("b-card",[o("b-list-group",{attrs:{horizontal:""}},[o("b-list-group",[o("b-list-group-item",[o("b",[t._v("Fecha:")]),t._v(" "+t._s(e.item.fecharealizacion))]),o("b-list-group-item",[o("b",[t._v("Total:")]),t._v(" $"+t._s(e.item.gastototal))]),e.item.componentes.length>0?o("b-card",{attrs:{title:"Productos: "}},[o("b-list-group",{attrs:{horizontal:""}},t._l(e.item.componentes,(function(e){return o("div",{key:e.id},[o("b-list-group",[o("b-list-group-item",[o("b",[t._v("Producto:")]),t._v(" "+t._s(t.productos.find((function(t){return t.id_producto==e.producto.split("/")[4]})).nombre)+" ")]),o("b-list-group-item",[o("p",[o("b",[t._v("Cantidad: ")]),t._v(" "+t._s(e.cantidad)+" ")])]),o("b-list-group-item",[o("p",[o("b",[t._v("Costo Unitario: ")]),t._v(" $"+t._s(e.precio)+" ")])])],1)],1)})),0)],1):o("b-list-group-item",[t._v(" Sin Productos ")])],1),t._v("   ")],1)],1)]}}])}),o("b-container",{attrs:{fluid:""}},[o("b-col",{staticClass:"my-1"},[o("b-pagination",{attrs:{align:"center",pills:"","total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"table_compras"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1),o("b-modal",{ref:"my-modaledit",attrs:{"no-close-on-backdrop":"",id:"modal_editar","hide-footer":"",title:"Editar","ok-only":""}},[o("compras-update",{attrs:{compras:t.editar,updateTable:t.testFetch}})],1),o("b-modal",{ref:"my-modal",attrs:{"no-close-on-backdrop":"",id:"modal_eliminar","hide-footer":"",title:"Eliminar","ok-only":""}},[o("div",{staticClass:"d-bk text-center"},[o("h3",[t._v(" ¿Esta seguro de eliminar los datos de la compra '"+t._s(t.infoEliminar.compra.fecharealizacion)+"'? ")])]),o("b-button",{staticClass:"mt-2",attrs:{bk:"",title:"Volver Atras"},on:{click:t.hideModal}},[t._v(" Volver Atras ")]),o("b-button",{staticClass:"mt-3",attrs:{variant:"danger",bk:"",title:"Eliminar"},on:{click:function(e){return t.deletecompra(t.infoEliminar.compra.id_compra,t.infoEliminar.compra)}}},[t._v(" Eliminar ")])],1)],1),o("aside",{directives:[{name:"show",rawName:"v-show",value:t.rows>0,expression:"rows > 0"}]},[o("div",[o("b-card-group",{attrs:{deck:""}},[o("b-card",{staticClass:"text-center",attrs:{"bg-variant":"primary","text-variant":"white",header:"REGISTROS POR PAGINA"}},[o("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"per-page-select"}},[o("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1)],1),o("br"),o("div",[o("b-card-group",{attrs:{deck:""}},[o("b-card",{staticClass:"text-center",staticStyle:{width:"100%"},attrs:{"bg-variant":"primary","text-variant":"white",header:"FILTRAR POR"}},[o("div",{staticClass:"accordion",staticStyle:{width:"100%"},attrs:{role:"tablist"}},[o("b-card",{attrs:{"no-body":""}},[o("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticStyle:{"font-size":"0.82em"},attrs:{bk:"",variant:"info"}},[t._v(" FECHA DE PAGO ")])],1),o("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[o("b-card-body",[o("b-form-group",{staticStyle:{color:"black"},attrs:{label:"Desde","label-for":"fechaDesde"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-input",{attrs:{id:"fechaDesde",type:"date","aria-label":"Desde",placeholder:"Ingrese una Fecha","invalid-feedback":"Complete este campo",required:""},model:{value:t.dateDesde,callback:function(e){t.dateDesde=e},expression:"dateDesde"}}),t._v(" "+t._s(t.dateDesde)+" ")],1),o("b-form-group",{staticStyle:{color:"black"},attrs:{label:"Hasta","label-for":"fechaHasta"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-input",{attrs:{id:"fechaHasta",type:"date",placeholder:"Ingrese una Fecha",required:""},model:{value:t.dateHasta,callback:function(e){t.dateHasta=e},expression:"dateHasta"}}),t._v(" "+t._s(t.dateHasta)+" ")],1),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.dateDesde&&null!=t.dateHasta,expression:"dateDesde != null && dateHasta != null"}]},[o("b-button",{attrs:{title:"Limpiar"},on:{click:function(e){return t.limpiar_filtro_fecha()}}},[t._v(" Limpiar ")])],1)],1)],1)],1),o("b-card",{attrs:{"no-body":""}},[o("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticStyle:{"font-size":"0.82em"},attrs:{bk:"",variant:"info"}},[t._v(" PRODUCTO ")])],1),o("b-collapse",{attrs:{id:"accordion-2",visible:"",accordion:"my-accordion",role:"tabpanel"}},[o("b-card-body",[o("b-form-group",{attrs:{id:"input-group-4"}},[o("v-autocomplete",{attrs:{id:"letra",items:t.options_producto,type:"text",solo:"",filled:""},model:{value:t.filter_producto,callback:function(e){t.filter_producto=e},expression:"filter_producto"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.filter_producto,expression:"filter_producto != null"}]},[o("b-button",{attrs:{title:"Limpiar"},on:{click:function(e){t.filter_producto=null}}},[t._v(" Limpiar ")])],1)],1)],1)],1)],1),o("b-card",{attrs:{"no-body":""}},[o("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],staticStyle:{"font-size":"0.82em"},attrs:{bk:"",variant:"info"}},[t._v(" Total de la compra ")])],1),o("b-collapse",{attrs:{id:"accordion-4",visible:"",accordion:"my-accordion",role:"tabpanel"}},[o("b-card-body",[o("b-form-group",{staticStyle:{color:"black"},attrs:{label:"Desde","label-for":"totalDesde"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-input",{attrs:{id:"totalDesde",type:"number","aria-label":"Desde",placeholder:"Ingrese un numero","invalid-feedback":"Complete este campo",required:""},model:{value:t.totalDesde,callback:function(e){t.totalDesde=e},expression:"totalDesde"}}),t._v(" "+t._s(t.totalDesde)+" ")],1),o("b-form-group",{staticStyle:{color:"black"},attrs:{label:"Hasta","label-for":"totalHasta"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-input",{attrs:{id:"totalHasta",type:"number",placeholder:"Ingrese un Total",required:""},model:{value:t.totalHasta,callback:function(e){t.totalHasta=e},expression:"totalHasta"}}),t._v(" "+t._s(t.totalHasta)+" ")],1),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.totalDesde&&null!=t.totalHasta,expression:"totalDesde != null && totalHasta != null"}]},[o("b-button",{attrs:{title:"Limpiar"},on:{click:function(e){return t.limpiar_filtro_total()}}},[t._v(" Limpiar ")])],1)],1)],1)],1)],1)])],1)],1)])],1)])},r=[],i=o("1da1"),n=(o("96cf"),o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("d81d"),o("4de4"),o("159b"),o("ac1f"),o("1276"),o("7db0"),o("5319"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",[t._v("Los campos en (*) son obligatorios")]),o("b-form",[o("b-form-group",{attrs:{label:"*Fecha","label-for":"fecharealizacion"}},[o("b-form-input",{attrs:{id:"fecharealizacion",type:"date",placeholder:"Ingrese la fecha de realizacion de la compra","invalid-feedback":"Complete este campo",state:t.validacion.fecharealizacion.estado,required:""},model:{value:t.compras.fecharealizacion,callback:function(e){t.$set(t.compras,"fecharealizacion",e)},expression:"compras.fecharealizacion"}}),o("b-form-invalid-feedback",{attrs:{id:"fecharealizacion-live-feedback"}},[t._v(" "+t._s(t.validacion.fecharealizacion.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Tipo de Compra","label-for":"tipo_compra"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-select",{attrs:{id:"tipo_compra",type:"text",placeholder:"Describa el tipo de producto","invalid-feedback":"Complete este campo",state:t.validacion.tipo_compra.estado,required:"",options:t.tipos_productos},on:{change:function(e){return t.cambiodetipo()}},model:{value:t.compras.tipo_compra,callback:function(e){t.$set(t.compras,"tipo_compra",e)},expression:"compras.tipo_compra"}}),o("b-form-invalid-feedback",{attrs:{id:"tipo_compra-live-feedback"}},[t._v(" "+t._s(t.validacion.tipo_compra.mensaje)+" ")])],1),t._l(t.compras.componentes,(function(e,a){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_producto,expression:"btn_producto"}],key:a},[o("b-form",[o("div",{staticClass:"d-flex  justify-content-between"},[o("h4",[t._v("Producto: "+t._s(a+1))]),o("b-button",{staticStyle:{color:"white"},attrs:{variant:"danger"},on:{click:function(e){return t.eliminarProducto(a)}}},[o("v-icon",{staticStyle:{color:"white"}},[t._v(" mdi-delete ")])],1)],1),o("b-form-group",{attrs:{label:"*Producto","label-for":"producto"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("v-autocomplete",{attrs:{id:"producto",state:t.validacion.componentes[a].producto.estado,type:"text",placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:"",solo:"",filled:"",items:t.op_productos},model:{value:e.producto,callback:function(o){t.$set(e,"producto",o)},expression:"item.producto"}}),o("b-form-invalid-feedback",{attrs:{id:"producto-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].producto.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Cantidad Comprada","label-for":"cantidad"}},[o("b-form-input",{attrs:{id:"cantidad",state:t.validacion.componentes[a].cantidad.estado,type:"number",placeholder:"*Ingrese la cantidad","invalid-feedback":"Complete este campo",required:""},on:{keyup:function(o){return t.sumar(e.cantidad,e.precio)}},model:{value:e.cantidad,callback:function(o){t.$set(e,"cantidad",o)},expression:"item.cantidad"}}),o("b-form-invalid-feedback",{attrs:{id:"cantidad-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].cantidad.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Costo Unitario","label-for":"precio"}},[o("span",{staticStyle:{display:"inline-bk",width:"3%"}},[t._v("$")]),o("b-form-input",{staticStyle:{width:"97%",display:"inline-bk"},attrs:{id:"precio",state:t.validacion.componentes[a].precio.estado,type:"number",placeholder:"*Ingrese el precio","invalid-feedback":"Complete este campo",required:""},on:{keyup:function(o){return t.sumar(e.cantidad,e.precio,a)}},model:{value:e.precio,callback:function(o){t.$set(e,"precio",o)},expression:"item.precio"}}),o("b-form-invalid-feedback",{attrs:{id:"precio-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].precio.mensaje)+" ")])],1),o("span",[t._v("Total Producto: $")]),t._v(" "+t._s(e.cantidad*e.precio)+" ")],1),o("b-button",{staticClass:"my-3",staticStyle:{color:"white"},attrs:{variant:"success"},on:{click:function(e){return t.sumarProductos()}}},[t._v("+")])],1)})),o("br"),o("br"),o("span",{staticStyle:{"text-align":"center",width:"100%"}},[t._v("Total compra: $"+t._s(t.totalpago))])],2),o("b-button",{staticClass:"mt-2",attrs:{variant:"success",bk:""},on:{click:function(e){return t.postcompra()}}},[t._v("Guardar")])],1)}),c=[],s=(o("fb6a"),o("a434"),o("c03a")),l=o("bc3a"),d=o.n(l),p={props:{updateTable:Function},data:function(){return{compras:{componentes:[]},data:{},list_productos:{},productoelegido:{},text:"",totalprod:[0],totalpago:0,numero:-1,op_productos:[],listaproduct:[],tipos_productos:[{value:null,text:"Elija un tipo de producto",disabled:!0},{value:"Pollo",text:"Pollo"},{value:"Congelados",text:"Congelado"}],listacompra:[],validacion:{fecharealizacion:{estado:null,mensaje:""},tipo_compra:{estado:null,mensaje:""},componentes:[]}}},methods:{postcompra:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new s["a"],o.apiUrl.pathname="compras/",console.log(compras),console.log(compras.fecharealizacion),t.compras.componentes.forEach((function(e){console.log("Longitud"),t.actualizarStockProducto(e.producto.split("/")[4],e.cantidad)})),e.next=7,o.postData(t.compras);case 7:a=e.sent,t.cargarFeedback(a),t.updateTable();case 10:case"end":return e.stop()}}),e)})))()},getProducto:function(t){var e=this.listaproduct.find((function(e){return e.id_producto==t}));return e},actualizarStockProducto:function(t,e){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(o.getProducto(t)),r=o.getProducto(t),o.productoelegido.id_producto=r.id_producto,o.productoelegido.nombre=r.nombre,o.productoelegido.tipo_producto=r.tipo_producto,o.productoelegido.letra=r.letra,o.productoelegido.numero_producto=r.numero_producto,o.productoelegido.codigo_unico=r.codigo_unico,o.productoelegido.stocktotal=parseInt(r.stocktotal)+parseInt(e),o.productoelegido.precioref=r.precioref,console.log(o.productoelegido),a.next=13,d.a.put("http://alhost:8081/productos/"+o.productoelegido.id_producto+"/",o.productoelegido);case 13:case"end":return a.stop()}}),a)})))()},sumar:function(t,e,o){var a=0;t=parseInt(t),e=parseInt(e),a=parseInt(t)*parseInt(e),this.totalprod[o]=a,this.totalprod.push(0),this.totalprod.pop(),this.calctotalpago()},calctotalpago:function(){for(var t=0,e=0;e<this.compras.componentes.length;e++)isNaN(this.compras.componentes[e].precio)||isNaN(this.compras.componentes[e].cantidad)||(t+=this.compras.componentes[e].precio*this.compras.componentes[e].cantidad);console.log(t),this.totalpago=t},handleInput:function(){var t=new Date;t.setDate(t.getDate());var e=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2);this.compras.fecharealizacion=e,this.compras.tipo_compra="Pollo",console.log(String(e))},resetForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.compras.fecharealizacion="",t.compras.componentes=null;case 2:case"end":return e.stop()}}),e)})))()},getProductos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new s["a"],o.apiUrl.pathname="productos/",e.next=4,o.getData();case 4:return t.listaproduct=e.sent,a=new s["a"],a.apiUrl.pathname="compras/",e.next=9,a.getData();case 9:t.listacompra=e.sent,t.listaproduct.forEach((function(e){r={},r.value="http://alhost:8081/productos/"+e.id_producto+"/",r.text=e.nombre+" - Stock: "+e.stocktotal+" - "+t.getFechaPrecio(e.id_producto),console.log(r),e.tipo_producto==t.compras.tipo_compra&&t.op_productos.push(r)}));case 11:case"end":return e.stop()}}),e)})))()},cambiodetipo:function(){this.op_productos=[],this.getProductos()},getFechaPrecio:function(t){var e="Nunca se compro",o=new Date(2e3,1,1),a=0;return console.log(this.listacompra),this.listacompra.forEach((function(r){o=new Date(r.fecharealizacion),r.componentes.forEach((function(r){r.producto.split("/")[4]==t&&(a=r.precio,e=o.getUTCDate()+"/"+(o.getMonth()+1)+"/"+o.getUTCFullYear())}))})),"Ult. Cost.:"+a+" - "+e},sumarProductos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.btn_producto=!0,t.numero=t.numero+1,t.compras.componentes.push({cantidad:0,producto:null,precio:0}),t.validacion.componentes.push({cantidad:{estado:null,mensaje:""},producto:{estado:null,mensaje:""},precio:{estado:null,mensaje:""}});case 4:case"end":return e.stop()}}),e)})))()},eliminarProducto:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:1==e.compras.componentes.length?alert("Tiene que haber al menos 1 producto"):(e.compras.componentes.splice(t,1),e.validacion.componentes.splice(t,1),e.totalprod.splice(t),e.numero=e.numero-1,e.calctotalpago());case 1:case"end":return o.stop()}}),o)})))()},cargarFeedback:function(t){var e;for(var o in t||(t={}),this.validacion)e=!t.hasOwnProperty(o),this.validacion[o].estado=e,e||(this.validacion[o].mensaje=t[o][0]);this.cargarFeedbackcomponentes(t)},cargarFeedbackcomponentes:function(t){var e,o=!1;t.componentes||(o=!0),this.validacion.componentes.forEach((function(a,r){for(var i in a)e=o||!t.componentes[r].hasOwnProperty(i),a[i].estado=e,console.log(i),e||(a[i].mensaje=t.componentes[r][i][0])}))}},beforeMount:function(){this.getProductos(),this.sumarProductos(),this.handleInput()}},u=p,m=o("2877"),b=Object(m["a"])(u,n,c,!1,null,null,null),f=b.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",[t._v("Los campos en (*) son obligatorios")]),o("b-form",[o("b-form-group",{attrs:{label:"*Fecha","label-for":"fecharealizacion"}},[o("b-form-input",{attrs:{id:"fecharealizacion",type:"date",placeholder:"Ingrese la fecha de realizacion de la compra","invalid-feedback":"Complete este campo",state:t.validacion.fecharealizacion.estado,required:""},model:{value:t.compras.fecharealizacion,callback:function(e){t.$set(t.compras,"fecharealizacion",e)},expression:"compras.fecharealizacion"}}),o("b-form-invalid-feedback",{attrs:{id:"fecharealizacion-live-feedback"}},[t._v(" "+t._s(t.validacion.fecharealizacion.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Tipo de Compra","label-for":"tipo_compra"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("b-form-select",{attrs:{id:"tipo_compra",type:"text",placeholder:"Describa el tipo de producto","invalid-feedback":"Complete este campo",state:t.validacion.tipo_compra.estado,required:"",options:t.tipos_productos},on:{change:function(e){return t.cambiodetipo()}},model:{value:t.compras.tipo_compra,callback:function(e){t.$set(t.compras,"tipo_compra",e)},expression:"compras.tipo_compra"}}),o("b-form-invalid-feedback",{attrs:{id:"tipo_compra-live-feedback"}},[t._v(" "+t._s(t.validacion.tipo_compra.mensaje)+" ")])],1),t._l(t.compras.componentes,(function(e,a){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_producto,expression:"btn_producto"}],key:a},[o("b-form",[o("div",{staticClass:"d-flex  justify-content-between"},[o("h4",[t._v("Producto: "+t._s(a+1))]),o("b-button",{staticStyle:{color:"white"},attrs:{variant:"danger"},on:{click:function(e){return t.eliminarProducto(a)}}},[o("v-icon",{staticStyle:{color:"white"}},[t._v(" mdi-delete ")])],1)],1),o("b-form-group",{attrs:{label:"*Producto","label-for":"producto"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[o("v-autocomplete",{attrs:{id:"producto",state:t.validacion.componentes[a].producto.estado,type:"text",placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:"",solo:"",filled:"",items:t.op_productos},model:{value:e.producto,callback:function(o){t.$set(e,"producto",o)},expression:"item.producto"}}),o("b-form-invalid-feedback",{attrs:{id:"producto-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].producto.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Cantidad Comprada","label-for":"cantidad"}},[o("b-form-input",{attrs:{id:"cantidad",state:t.validacion.componentes[a].cantidad.estado,type:"number",placeholder:"*Ingrese la cantidad","invalid-feedback":"Complete este campo",required:""},on:{change:function(o){return t.sumar(e.cantidad,e.precio)}},model:{value:e.cantidad,callback:function(o){t.$set(e,"cantidad",o)},expression:"item.cantidad"}}),o("b-form-invalid-feedback",{attrs:{id:"cantidad-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].cantidad.mensaje)+" ")])],1),o("b-form-group",{attrs:{label:"*Costo Unitario","label-for":"precio"}},[o("span",{staticStyle:{display:"inline-bk",width:"3%"}},[t._v("$")]),o("b-form-input",{staticStyle:{width:"97%",display:"inline-bk"},attrs:{id:"precio",state:t.validacion.componentes[a].precio.estado,type:"number",placeholder:"*Ingrese el precio","invalid-feedback":"Complete este campo",required:""},on:{change:function(o){return t.sumar(e.cantidad,e.precio,a)}},model:{value:e.precio,callback:function(o){t.$set(e,"precio",o)},expression:"item.precio"}}),o("b-form-invalid-feedback",{attrs:{id:"precio-live-feedback"}},[t._v(" "+t._s(t.validacion.componentes[a].precio.mensaje)+" ")])],1),o("span",[t._v("Total Producto: $")]),t._v(" "+t._s(e.cantidad*e.precio)+" ")],1),o("b-button",{staticClass:"my-3",staticStyle:{color:"white"},attrs:{variant:"success"},on:{click:function(e){return t.sumarProductos()}}},[t._v("+")])],1)})),o("br"),o("br"),o("span",{staticStyle:{"text-align":"center",width:"100%"}},[t._v("Total compra: $"+t._s(t.totalpago))])],2),o("b-button",{staticClass:"mt-2",attrs:{variant:"success",bk:""},on:{click:function(e){return t.putCompra()}}},[t._v("Guardar")])],1)},v=[],g={props:{updateTable:Function,compras:{}},data:function(){return{data:{},list_productos:{},stockviejo:[],productoelegido:{},text:"",totalprod:[0],totalpago:0,numero:-1,tipos_productos:[{value:null,text:"Elija un tipo de producto",disabled:!0},{value:"Pollo",text:"Pollo"},{value:"Congelados",text:"Congelado"}],op_productos:[],listaproduct:[],listacompra:[],validacion:{fecharealizacion:{estado:null,mensaje:""},tipo_compra:{estado:null,mensaje:""},componentes:[]}}},methods:{putCompra:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.compras.id_compra,e.prev=1,e.next=4,d.a.put("http://alhost:8081/compras/"+o+"/",t.compras);case 4:t.respuesta=e.sent,t.compras.componentes.forEach((function(e){console.log("Longitud"),t.actualizarStockProducto(e.producto.split("/")[4],e.cantidad)})),swal("Carga Exitosa"," ","success"),e.next=15;break;case 9:e.prev=9,e.t0=e["catch"](1),a=e.t0.response<500?"Los datos no son válidos":"Se ha detectado un problema ",swal("¡ERROR!",a,"error"),t.respuesta=e.t0.response.data,console.log(e.t0);case 15:t.cargarFeedback(),t.updateTable();case 17:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getProducto:function(t){var e=this.listaproduct.find((function(e){return e.id_producto==t}));return e},getStockViejo:function(t){var e=0,o=0;return this.stockviejo.forEach((function(a){e=parseInt(a.producto.split("/")[4]),e==t&&(o=parseInt(a.cantidad))})),o},actualizarStockProducto:function(t,e){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(o.getProducto(t)),r=o.getProducto(t),o.productoelegido.id_producto=r.id_producto,o.productoelegido.nombre=r.nombre,o.productoelegido.tipo_producto=r.tipo_producto,o.productoelegido.letra=r.letra,o.productoelegido.numero_producto=r.numero_producto,o.productoelegido.codigo_unico=r.codigo_unico,i=parseInt(t),console.log("stock viejo"),console.log(o.getStockViejo(i)),o.productoelegido.stocktotal=parseInt(r.stocktotal)-parseInt(o.getStockViejo(i))+parseInt(e),o.productoelegido.precioref=r.precioref,console.log(o.productoelegido),a.next=16,d.a.put("http://alhost:8081/productos/"+o.productoelegido.id_producto+"/",o.productoelegido);case 16:case"end":return a.stop()}}),a)})))()},sumar:function(t,e,o){var a=0;t=parseInt(t),e=parseInt(e),a=parseInt(t)*parseInt(e),this.totalprod[o]=a,this.totalprod.push(0),this.totalprod.pop(),this.calctotalpago()},calctotalpago:function(){for(var t=0,e=0;e<this.totalprod.length;e++)console.log(this.totalprod[e]),t+=this.totalprod[e];console.log(t),this.totalpago=t},handleInput:function(){var t=new Date;t.setDate(t.getDate());var e=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2);this.compras.fecharealizacion=e,console.log(String(e))},resetForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.compras.fecharealizacion="",t.compras.componentes=null;case 2:case"end":return e.stop()}}),e)})))()},getProductos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new s["a"],o.apiUrl.pathname="productos/",e.next=4,o.getData();case 4:return t.listaproduct=e.sent,a=new s["a"],a.apiUrl.pathname="compras/",e.next=9,a.getData();case 9:t.listacompra=e.sent,t.listaproduct.forEach((function(e){r={},r.value="http://alhost:8081/productos/"+e.id_producto+"/",r.text=e.nombre+" - Stock: "+e.stocktotal+" - "+t.getFechaPrecio(e.id_producto),console.log(r),e.tipo_producto==t.compras.tipo_compra&&t.op_productos.push(r)}));case 11:case"end":return e.stop()}}),e)})))()},cambiodetipo:function(){this.op_productos=[],this.getProductos()},getFechaPrecio:function(t){var e="Nunca se compro",o=new Date(2e3,1,1),a=0;return console.log(this.listacompra),this.listacompra.forEach((function(r){o=new Date(r.fecharealizacion),r.componentes.forEach((function(r){r.producto.split("/")[4]==t&&(a=r.precio,e=o.getUTCDate()+"/"+(o.getMonth()+1)+"/"+o.getUTCFullYear())}))})),"Ultimo precio:"+a+" - Fecha:"+e},sumarProductos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.compras.componentes.push({cantidad:0,producto:null,precio:0}),t.validacion.componentes.push({cantidad:{estado:null,mensaje:""},producto:{estado:null,mensaje:""},precio:{estado:null,mensaje:""}});case 2:case"end":return e.stop()}}),e)})))()},eliminarProducto:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:1==e.compras.componentes.length?alert("Tiene que haber al menos 1 producto"):(e.compras.componentes.splice(t,1),e.validacion.componentes.splice(t,1),e.totalprod.splice(t),e.numero=e.numero-1,e.calctotalpago());case 1:case"end":return o.stop()}}),o)})))()},cargarFeedback:function(t){var e;for(var o in t||(t={}),this.validacion)e=!t.hasOwnProperty(o),this.validacion[o].estado=e,e||(this.validacion[o].mensaje=t[o][0]);this.cargarFeedbackcomponentes(t)},cargarFeedbackcomponentes:function(t){var e,o=!1;t.componentes||(o=!0),this.validacion.componentes.forEach((function(a,r){for(var i in a)e=o||!t.componentes[r].hasOwnProperty(i),a[i].estado=e,console.log(i),e||(a[i].mensaje=t.componentes[r][i][0])}))},saveStocksViejos:function(){console.log(this.compras.componentes);for(var t=0;t<this.compras.componentes.length;t++){var e={};e.producto=this.compras.componentes[t].producto,e.cantidad=this.compras.componentes[t].cantidad,this.stockviejo.push(e)}console.log("hola"),console.log(this.stockviejo)},inicializar:function(){console.log("fuera del for!");for(var t=0;t<this.compras.componentes.length;t++)console.log("iniciando!"),this.validacion.componentes.push({cantidad:{estado:null,mensaje:""},precio:{estado:null,mensaje:""},producto:{estado:null,mensaje:""}});this.btn_producto=!0}},beforeMount:function(){this.getProductos(),this.handleInput(),this.saveStocksViejos(),this.inicializar()}},_=g,k=Object(m["a"])(_,h,v,!1,null,null,null),w=k.exports,y=o("1940"),x=o.n(y),P=new URL("http://alhost:8081");P.pathname="compras/";var C={components:{comprasAlta:f,comprasUpdate:w},data:function(){return{tabla_compras:[],productos:[],fields:[{key:"selected",label:"Seleccionar",sortable:!0},{key:"id_compra",label:"ID",sortable:!0},{key:"tipo_compra",label:"Tipo",sortable:!0},{key:"fecharealizacion",label:"Fecha de Realizacion",sortable:!0},{key:"gastototal",label:"Costo Total",sortable:!0},{key:"action",label:"Acciones",variant:"secondary"}],modal:!1,dateDesde:null,dateHasta:null,productoelegido:{},editar:{},filter_producto:null,options_producto:[],filter:null,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,20,40,100,{value:1e4,text:"Todos"}],selected:[],infoEliminar:{id:"modal_eliminar",compra:-1},btn_del_full:!0,totalDesde:null,totalHasta:null,btn_mostrar:!1,btn_editar:!1,btn_eliminar:!1,btn_select:!1,btn_limpiar:!0}},computed:{rows:function(){return this.totalRows=this.tabla_compras.length},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{testFetch:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(P);case 3:return o=e.sent,e.next=6,o.json();case 6:a=e.sent,t.tabla_compras=a.results,t.tabla_compras.forEach((function(e){e.componentes.forEach((function(e){var o={};o.value=e.producto,o.text=t.getProducto(e.producto.split("/")[4]).nombre,t.options_producto.find((function(t){return t.value==o.value}))?console.log(o," ya se encuentra en el listado"):t.options_producto.push(o)}))})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},redirect:function(){this.$session.exists()||window.ation.replace("/login"),"reparto"==this.$session.get("tipocuenta")&&window.ation.replace("/")},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},info:function(t){alert("id: "+t)},showModalinfo:function(t,e){this.infoEliminar.compra=t,this.showModal()},limpiar_filtro_total:function(){this.totalDesde=null,this.totalHasta=null},seleccionar_una:function(t){this.selected=t,this.selected.length>0?(this.btn_del_full=!1,this.btn_limpiar=!1,this.selected.length>1&&(this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0),this.selected.length==this.rows?this.btn_select=!0:this.btn_select=!1):(this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_limpiar=!0)},seleccionar_todas:function(){this.$refs.tablaregistros.selectAllRows(),this.btn_del_full=!1,this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0,this.btn_select=!0,this.btn_limpiar=!1},limpiar_seleccion:function(){this.$refs.tablaregistros.clearSelected(),this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_select=!1,this.btn_limpiar=!0},altacompra:function(){},editarcompra:function(t,e){this.editar=t},actualizarStockProducto:function(t,e){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(o.getProducto(t)),r=o.getProducto(t),o.productoelegido.id_producto=r.id_producto,o.productoelegido.nombre=r.nombre,o.productoelegido.tipo_producto=r.tipo_producto,o.productoelegido.letra=r.letra,o.productoelegido.numero_producto=r.numero_producto,o.productoelegido.codigo_unico=r.codigo_unico,o.productoelegido.stocktotal=parseInt(r.stocktotal)-parseInt(e),o.productoelegido.precioref=r.precioref,console.log(o.productoelegido),a.next=13,d.a.put("http://alhost:8081/productos/"+o.productoelegido.id_producto+"/",o.productoelegido);case 13:case"end":return a.stop()}}),a)})))()},getProductos:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new s["a"],o.apiUrl.pathname="productos/",e.next=4,o.getData();case 4:t.productos=e.sent;case 5:case"end":return e.stop()}}),e)})))()},getProducto:function(t){var e=this;return this.productos==[]?getProductos().then((function(){return e.getProducto(t)})):this.productos.find((function(e){return e.id_producto==t}))},deletecompra:function(t,e){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:d.a.delete("http://alhost:8081/compras/"+t+"/").then((function(t){e.componentes.forEach((function(t){console.log("Longitud"),o.actualizarStockProducto(t.producto.split("/")[4],t.cantidad)})),x()("Eliminacion Exitosa"," ","success"),console.log(t),o.hideModal()})).catch((function(t){x()("¡ERROR!","Se ha detectado un problema ","error"),console.log(t),o.hideModal()})).finally((function(){return o.testFetch()}));case 1:case"end":return a.stop()}}),a)})))()},delete_all_compras:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=t.selected.length,e.prev=1,a=0;case 3:if(!(a<o)){e.next=11;break}if(d.a.delete("https://arandadistribucion.pythonanywhere.com/compras/"+t.selected[a].id_compra+"/"),0!=t.selected.length){e.next=8;break}return console.log("Eliminacion Exitosa"),e.abrupt("break",11);case 8:a++,e.next=3;break;case 11:t.hideModal(),x()("Eliminacion Exitosa"," ","success"),e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),t.hideModal(),x()("¡ERROR!","Se ha detectado un problema ","error"),console.log(e.t0);case 20:return e.prev=20,t.testFetch(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,15,20,23]])})))()},limpiar_filtro_fecha:function(){this.dateDesde=null,this.dateHasta=null},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}},beforeMount:function(){this.getProductos(),this.testFetch(),this.redirect()}},S=C,j=(o("1819"),Object(m["a"])(S,a,r,!1,null,"c685663c",null));e["default"]=j.exports},a434:function(t,e,o){"use strict";var a=o("23e7"),r=o("23cb"),i=o("a691"),n=o("50c4"),c=o("7b0b"),s=o("65f0"),l=o("8418"),d=o("1dde"),p=d("splice"),u=Math.max,m=Math.min,b=9007199254740991,f="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var o,a,d,p,h,v,g=c(this),_=n(g.length),k=r(t,_),w=arguments.length;if(0===w?o=a=0:1===w?(o=0,a=_-k):(o=w-2,a=m(u(i(e),0),_-k)),_+o-a>b)throw TypeError(f);for(d=s(g,a),p=0;p<a;p++)h=k+p,h in g&&l(d,p,g[h]);if(d.length=a,o<a){for(p=k;p<_-a;p++)h=p+a,v=p+o,h in g?g[v]=g[h]:delete g[v];for(p=_;p>_-a+o;p--)delete g[p-1]}else if(o>a)for(p=_-a;p>k;p--)h=p+a-1,v=p+o-1,h in g?g[v]=g[h]:delete g[v];for(p=0;p<o;p++)g[p+k]=arguments[p+2];return g.length=_-a+o,d}})},d81d:function(t,e,o){"use strict";var a=o("23e7"),r=o("b727").map,i=o("1dde"),n=i("map");a({target:"Array",proto:!0,forced:!n},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-e7f51c2a.29f567b9.js.map